<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GFConcursos - Foco na Aprova√ß√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .timer-digits {
            font-variant-numeric: tabular-nums;
        }
        .view {
            display: none;
        }
        .view.active {
            display: block;
        }
        .nav-item.active {
            color: #2563eb; /* text-blue-600 */
        }
        .nav-item.active svg {
            stroke: #2563eb;
        }
    </style>
</head>
<body class="antialiased text-slate-800">

    <div id="app" class="max-w-lg mx-auto bg-white min-h-screen shadow-lg flex flex-col">
        
        <!-- Cabe√ßalho -->
        <header class="bg-blue-600 text-white p-4 text-center shadow-md">
            <h1 class="text-2xl font-bold">GFConcursos</h1>
            <p class="text-sm opacity-90">Seu parceiro rumo √† aprova√ß√£o</p>
        </header>

        <!-- Conte√∫do Principal -->
        <main class="flex-grow p-4 md:p-6 space-y-6 overflow-y-auto pb-24">
            
            <!-- VIEW: Cron√¥metro -->
            <div id="view-cronometro" class="view active">
                <!-- Se√ß√£o do Timer -->
                <div class="bg-slate-100 rounded-2xl p-6 text-center shadow-inner">
                    <p id="current-subject-display" class="text-lg font-semibold text-slate-600 mb-2">Nenhuma disciplina selecionada</p>
                    <div id="timer-display" class="text-6xl md:text-7xl font-bold text-slate-800 timer-digits tracking-wider">
                        00:00:00
                    </div>
                    <div class="mt-6 flex justify-center space-x-3">
                        <button id="start-pause-btn" class="bg-blue-600 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:bg-blue-700 transition-all transform hover:scale-105 flex items-center disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                            <i data-lucide="play" class="w-5 h-5 mr-2"></i>
                            <span id="start-pause-text">Iniciar</span>
                        </button>
                        <button id="stop-btn" class="bg-red-500 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:bg-red-600 transition-all transform hover:scale-105 flex items-center disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                            <i data-lucide="square" class="w-5 h-5 mr-2"></i>
                            <span>Parar</span>
                        </button>
                    </div>
                </div>

                <!-- Se√ß√£o de Disciplinas -->
                <div>
                    <h2 class="text-xl font-bold mb-3">Minhas Disciplinas</h2>
                    <div class="bg-white rounded-lg">
                        <ul id="subjects-list" class="divide-y divide-slate-200">
                            <!-- Disciplinas ser√£o inseridas aqui via JS -->
                        </ul>
                    </div>
                    <div class="mt-4 flex gap-2">
                        <input type="text" id="new-subject-input" placeholder="Nova disciplina (ex: Direito Admin.)" class="flex-grow w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition">
                        <button id="add-subject-btn" class="bg-slate-800 text-white px-4 py-2 rounded-lg font-semibold hover:bg-slate-900 transition flex items-center">
                            <i data-lucide="plus" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- VIEW: Salas de Estudo -->
            <div id="view-salas" class="view">
                <h2 class="text-xl font-bold mb-4">Salas de Estudo</h2>
                <div class="space-y-3">
                    <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-lg">
                        <p class="font-bold">Sala: Carreiras Policiais üëÆ</p>
                        <p>17 pessoas estudando agora</p>
                    </div>
                    <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-lg">
                        <p class="font-bold">Sala: Tribunais e TRTs ‚öñÔ∏è</p>
                        <p>23 pessoas estudando agora</p>
                    </div>
                </div>

                <h3 class="text-lg font-bold mt-6 mb-3">Estudando Agora (simulado)</h3>
                <div id="study-room-list" class="space-y-2">
                    <!-- Usu√°rios simulados ser√£o inseridos aqui -->
                </div>
            </div>

            <!-- VIEW: Ranking -->
            <div id="view-ranking" class="view">
                <h2 class="text-xl font-bold mb-4">Ranking Semanal üèÜ</h2>
                <div class="bg-white rounded-lg shadow">
                    <ul id="ranking-list" class="divide-y divide-slate-200">
                       <!-- Ranking simulado ser√° inserido aqui -->
                    </ul>
                </div>
            </div>
            
            <!-- VIEW: Quest√µes -->
            <div id="view-questoes" class="view">
                <h2 class="text-xl font-bold mb-4">Banco de Quest√µes</h2>
                <div id="quiz-container" class="bg-slate-100 p-4 rounded-lg">
                    <!-- O conte√∫do do quiz ser√° renderizado aqui -->
                </div>
            </div>

        </main>

        <!-- Navega√ß√£o Inferior -->
        <nav class="fixed bottom-0 left-0 right-0 max-w-lg mx-auto bg-white border-t border-slate-200 flex justify-around p-2 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]">
            <button class="nav-item active flex flex-col items-center text-slate-500 p-2" data-view="cronometro">
                <i data-lucide="timer" class="w-6 h-6 mb-1"></i>
                <span class="text-xs">Cron√¥metro</span>
            </button>
            <button class="nav-item flex flex-col items-center text-slate-500 p-2" data-view="salas">
                <i data-lucide="users" class="w-6 h-6 mb-1"></i>
                <span class="text-xs">Salas</span>
            </button>
            <button class="nav-item flex flex-col items-center text-slate-500 p-2" data-view="ranking">
                <i data-lucide="bar-chart-3" class="w-6 h-6 mb-1"></i>
                <span class="text-xs">Ranking</span>
            </button>
            <button class="nav-item flex flex-col items-center text-slate-500 p-2" data-view="questoes">
                <i data-lucide="file-question" class="w-6 h-6 mb-1"></i>
                <span class="text-xs">Quest√µes</span>
            </button>
        </nav>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            const appState = {
                subjects: [],
                timer: {
                    instance: null,
                    startTime: 0,
                    pausedTime: 0,
                    accumulated: 0,
                    isRunning: false,
                    currentSubjectId: null,
                },
                selectedSubjectId: null,
                quiz: {
                    active: false,
                    subjectName: null,
                    questions: [],
                    currentIndex: 0,
                }
            };

            // --- Elementos do DOM ---
            const timerDisplay = document.getElementById('timer-display');
            const startPauseBtn = document.getElementById('start-pause-btn');
            const startPauseText = document.getElementById('start-pause-text');
            const stopBtn = document.getElementById('stop-btn');
            const newSubjectInput = document.getElementById('new-subject-input');
            const addSubjectBtn = document.getElementById('add-subject-btn');
            const subjectsList = document.getElementById('subjects-list');
            const currentSubjectDisplay = document.getElementById('current-subject-display');
            
            const navItems = document.querySelectorAll('.nav-item');
            const views = document.querySelectorAll('.view');
            
            const quizContainer = document.getElementById('quiz-container');

            // --- Fun√ß√µes de L√≥gica ---

            function formatTime(seconds) {
                const h = Math.floor(seconds / 3600).toString().padStart(2, '0');
                const m = Math.floor((seconds % 3600) / 60).toString().padStart(2, '0');
                const s = Math.floor(seconds % 60).toString().padStart(2, '0');
                return `${h}:${m}:${s}`;
            }
            
            function saveState() {
                localStorage.setItem('gfconcursos_state', JSON.stringify({
                    subjects: appState.subjects
                }));
            }

            function loadState() {
                const savedState = localStorage.getItem('gfconcursos_state');
                if (savedState) {
                    const parsedState = JSON.parse(savedState);
                    appState.subjects = parsedState.subjects || [];
                }
            }
            
            function renderSubjects() {
                subjectsList.innerHTML = '';
                if (appState.subjects.length === 0) {
                    subjectsList.innerHTML = `<li class="p-4 text-center text-slate-500">Adicione sua primeira disciplina para come√ßar a cronometrar.</li>`;
                }
                
                appState.subjects.forEach(subject => {
                    const isSelected = subject.id === appState.selectedSubjectId;
                    const li = document.createElement('li');
                    li.className = `p-4 flex justify-between items-center transition ${isSelected ? 'bg-blue-50' : 'hover:bg-slate-50'}`;
                    
                    li.innerHTML = `
                        <div class="cursor-pointer flex-grow" data-select-id="${subject.id}">
                            <span class="font-semibold">${subject.name}</span>
                            <span class="block text-sm text-slate-500">Total: ${formatTime(subject.totalTime)}</span>
                        </div>
                        <div class="flex items-center space-x-2 pl-2">
                           <button data-practice-id="${subject.id}" class="text-blue-600 hover:text-blue-800 p-1 rounded-full flex items-center text-sm font-semibold"><i data-lucide="file-question" class="w-4 h-4 mr-1"></i> Praticar</button>
                           <button data-delete-id="${subject.id}" class="text-red-500 hover:text-red-700 p-1 rounded-full"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                        </div>
                    `;
                    subjectsList.appendChild(li);
                });
                lucide.createIcons();
                updateTimerControls();
            }

            function addSubject() {
                const name = newSubjectInput.value.trim();
                if (name) {
                    const newSubject = {
                        id: Date.now(),
                        name: name,
                        totalTime: 0
                    };
                    appState.subjects.push(newSubject);
                    newSubjectInput.value = '';
                    saveState();
                    renderSubjects();
                }
            }
            
            function deleteSubject(id) {
                 if (confirm('Tem certeza que deseja excluir esta disciplina?')) {
                    appState.subjects = appState.subjects.filter(s => s.id !== id);
                    if (appState.selectedSubjectId === id) {
                        appState.selectedSubjectId = null;
                        currentSubjectDisplay.textContent = 'Nenhuma disciplina selecionada';
                    }
                    if (appState.timer.currentSubjectId === id && appState.timer.isRunning) {
                        stopTimer();
                    }
                    saveState();
                    renderSubjects();
                }
            }
            
            function selectSubject(id) {
                if (appState.timer.isRunning && appState.timer.currentSubjectId !== id) {
                    alert('Pare o cron√¥metro atual antes de selecionar outra disciplina.');
                    return;
                }
                appState.selectedSubjectId = id;
                const subject = appState.subjects.find(s => s.id === id);
                currentSubjectDisplay.textContent = subject ? `Estudando: ${subject.name}` : 'Nenhuma disciplina selecionada';
                renderSubjects();
            }
            
            function updateTimerControls() {
                const hasSelection = !!appState.selectedSubjectId;
                startPauseBtn.disabled = !hasSelection;
                stopBtn.disabled = !appState.timer.isRunning && appState.timer.accumulated === 0;
            }
            
            // --- L√≥gica do Cron√¥metro ---
            function updateDisplay() {
                const elapsed = (Date.now() - appState.timer.startTime) / 1000;
                const totalElapsed = appState.timer.accumulated + elapsed;
                timerDisplay.textContent = formatTime(totalElapsed);
            }

            function startTimer() {
                if (appState.timer.isRunning) return;

                appState.timer.currentSubjectId = appState.selectedSubjectId;
                appState.timer.isRunning = true;
                appState.timer.startTime = Date.now();
                appState.timer.instance = setInterval(updateDisplay, 1000);
                
                startPauseBtn.innerHTML = `<i data-lucide="pause" class="w-5 h-5 mr-2"></i><span>Pausar</span>`;
                lucide.createIcons();
                stopBtn.disabled = false;
                
                document.querySelectorAll('#subjects-list li').forEach(li => {
                    if (parseInt(li.querySelector('[data-select-id]').dataset.selectId) !== appState.selectedSubjectId) {
                       li.style.pointerEvents = 'none';
                       li.style.opacity = '0.5';
                    }
                });
            }

            function pauseTimer() {
                if (!appState.timer.isRunning) return;

                appState.timer.isRunning = false;
                clearInterval(appState.timer.instance);
                const elapsed = (Date.now() - appState.timer.startTime) / 1000;
                appState.timer.accumulated += elapsed;

                startPauseBtn.innerHTML = `<i data-lucide="play" class="w-5 h-5 mr-2"></i><span>Continuar</span>`;
                lucide.createIcons();
            }
            
            function stopTimer() {
                const subject = appState.subjects.find(s => s.id === appState.timer.currentSubjectId);
                if (subject) {
                     let finalTime = appState.timer.accumulated;
                     if(appState.timer.isRunning){
                        finalTime += (Date.now() - appState.timer.startTime) / 1000;
                     }
                    subject.totalTime += finalTime;
                }

                appState.timer.isRunning = false;
                clearInterval(appState.timer.instance);
                appState.timer.accumulated = 0;
                appState.timer.currentSubjectId = null;
                
                timerDisplay.textContent = formatTime(0);
                startPauseBtn.innerHTML = `<i data-lucide="play" class="w-5 h-5 mr-2"></i><span>Iniciar</span>`;
                lucide.createIcons();
                
                document.querySelectorAll('#subjects-list li').forEach(li => {
                    li.style.pointerEvents = 'auto';
                    li.style.opacity = '1';
                });

                saveState();
                renderSubjects();
            }
            
            // --- Navega√ß√£o ---
            function switchView(viewName) {
                views.forEach(view => {
                    view.classList.toggle('active', view.id === `view-${viewName}`);
                });
                navItems.forEach(item => {
                    item.classList.toggle('active', item.dataset.view === viewName);
                });
                if (viewName === 'questoes') {
                    renderQuizView();
                }
            }
            
            // --- L√≥gica das Quest√µes ---
            const questionsDB = {
                'direito constitucional': [
                    {
                        banca: 'CESPE/Cebraspe', year: '2023',
                        prompt: 'Acerca dos direitos e garantias fundamentais, julgue o item a seguir.',
                        statement: 'O direito √† vida, previsto na Constitui√ß√£o Federal, abrange tanto o direito de n√£o ser morto quanto o direito de ter uma vida digna.',
                        answer: 'certo'
                    },
                    {
                        banca: 'CESPE/Cebraspe', year: '2021',
                        prompt: 'Sobre o controle de constitucionalidade, julgue o item.',
                        statement: 'A A√ß√£o Direta de Inconstitucionalidade (ADI) pode ser proposta por qualquer cidad√£o.',
                        answer: 'errado'
                    }
                ],
                'direito administrativo': [
                    {
                        banca: 'FGV', year: '2022',
                        prompt: 'Julgue o item a seguir, a respeito dos atos administrativos.',
                        statement: 'A revoga√ß√£o de um ato administrativo produz efeitos ex tunc, ou seja, retroativos.',
                        answer: 'errado'
                    }
                ],
                'portugu√™s': [
                    {
                        banca: 'FCC', year: '2024',
                        prompt: 'Quanto √† concord√¢ncia verbal, julgue o item.',
                        statement: 'A frase "Houveram muitos problemas na reuni√£o" est√° de acordo com a norma-padr√£o da l√≠ngua portuguesa.',
                        answer: 'errado'
                    },
                     {
                        banca: 'FCC', year: '2023',
                        prompt: 'Em rela√ß√£o √† crase, julgue o item.',
                        statement: 'O uso do acento grave indicativo da crase √© obrigat√≥rio na frase "Refiro-me √†quela aluna dedicada".',
                        answer: 'certo'
                    }
                ],
                'raciocinio logico matematico': [
                    {
                        banca: 'FGV', year: '2024',
                        prompt: 'Considere a seguinte proposi√ß√£o: "Se estudo, ent√£o passo no concurso".',
                        statement: 'A nega√ß√£o dessa proposi√ß√£o √© "Estudo e n√£o passo no concurso".',
                        answer: 'certo'
                    },
                    {
                        banca: 'CESPE/Cebraspe', year: '2023',
                        prompt: 'Julgue o item a seguir com base na l√≥gica proposicional.',
                        statement: 'A proposi√ß√£o "A aprova√ß√£o √© dif√≠cil ou o estudo n√£o √© necess√°rio" √© equivalente a "Se a aprova√ß√£o n√£o √© dif√≠cil, ent√£o o estudo n√£o √© necess√°rio".',
                        answer: 'errado'
                    }
                ]
            };
            
            function normalizeString(str) {
                return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/√ß/g, "c");
            }

            function startQuiz(subjectId) {
                const subject = appState.subjects.find(s => s.id === subjectId);
                if (!subject) return;

                const normalizedName = normalizeString(subject.name);
                const questions = questionsDB[normalizedName];
                
                if (questions && questions.length > 0) {
                    appState.quiz = {
                        active: true,
                        subjectName: subject.name,
                        questions: questions,
                        currentIndex: 0,
                    };
                    switchView('questoes');
                } else {
                    alert(`Nenhuma quest√£o encontrada para "${subject.name}".\n(Dispon√≠vel para: Direito Constitucional, Direito Administrativo, Portugu√™s, Racioc√≠nio L√≥gico Matem√°tico)`);
                }
            }

            function renderQuizView() {
                if (!appState.quiz.active) {
                    quizContainer.innerHTML = `
                        <div class="text-center p-4">
                            <p class="font-semibold text-slate-700">Pronto para praticar?</p>
                            <p class="text-sm text-slate-500 mt-1">V√° para a aba "Cron√¥metro", escolha uma disciplina e clique em "Praticar" para come√ßar um quiz.</p>
                        </div>
                    `;
                    return;
                }
                
                const q = appState.quiz.questions[appState.quiz.currentIndex];

                if (!q) {
                    quizContainer.innerHTML = `
                        <div class="bg-white p-4 rounded-lg shadow text-center">
                            <h3 class="text-lg font-bold text-blue-600">Parab√©ns!</h3>
                            <p class="mt-2 text-slate-700">Voc√™ concluiu o quiz de ${appState.quiz.subjectName}.</p>
                            <button id="restart-quiz-btn" class="mt-4 w-full bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition">Recome√ßar</button>
                        </div>
                    `;
                    quizContainer.querySelector('#restart-quiz-btn').addEventListener('click', restartQuiz);
                    return;
                }

                quizContainer.innerHTML = `
                     <p class="text-sm text-slate-600 mb-4">Praticando: <span class="font-bold">${appState.quiz.subjectName}</span></p>
                     <div id="question-container" class="bg-white p-4 rounded-lg shadow">
                        <p class="text-xs text-slate-500">${q.banca} ‚Ä¢ ${q.year}</p>
                        <p class="mt-2">${q.prompt}</p>
                        <p class="font-semibold mt-1">${q.statement}</p>
                        <div class="flex space-x-4 mt-4 text-sm">
                            <button id="certo-btn" class="bg-green-200 text-green-800 px-4 py-1 rounded-md hover:bg-green-300 transition-colors">Certo</button>
                            <button id="errado-btn" class="bg-red-200 text-red-800 px-4 py-1 rounded-md hover:bg-red-300 transition-colors">Errado</button>
                        </div>
                        <div id="question-feedback" class="mt-4 text-sm font-semibold h-5"></div>
                        <button id="next-question-btn" class="hidden mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition">Pr√≥xima Quest√£o</button>
                    </div>
                `;
                
                const certoBtn = quizContainer.querySelector('#certo-btn');
                const erradoBtn = quizContainer.querySelector('#errado-btn');

                certoBtn.addEventListener('click', () => checkAnswer('certo'));
                erradoBtn.addEventListener('click', () => checkAnswer('errado'));
                quizContainer.querySelector('#next-question-btn').addEventListener('click', loadNextQuestion);
            }

            function checkAnswer(selectedAnswer) {
                const q = appState.quiz.questions[appState.quiz.currentIndex];
                const feedbackEl = quizContainer.querySelector('#question-feedback');
                
                quizContainer.querySelector('#certo-btn').disabled = true;
                quizContainer.querySelector('#errado-btn').disabled = true;

                if (selectedAnswer === q.answer) {
                    feedbackEl.textContent = 'Resposta Correta!';
                    feedbackEl.className = 'mt-4 text-sm font-semibold h-5 text-green-600';
                } else {
                    feedbackEl.textContent = 'Resposta Incorreta!';
                    feedbackEl.className = 'mt-4 text-sm font-semibold h-5 text-red-600';
                }
                quizContainer.querySelector('#next-question-btn').classList.remove('hidden');
            }

            function loadNextQuestion() {
                appState.quiz.currentIndex++;
                renderQuizView();
            }
            
            function restartQuiz() {
                appState.quiz.currentIndex = 0;
                renderQuizView();
            }


            // --- Simula√ß√£o de Dados ---
            function renderSimulatedData() {
                // Sala de estudos
                const studyRoomList = document.getElementById('study-room-list');
                const mockUsers = [
                    { name: 'Carlos M.', subject: 'Direito Constitucional' },
                    { name: 'Beatriz L.', subject: 'Portugu√™s (Gram√°tica)' },
                    { name: 'Fernanda A.', subject: 'Racioc√≠nio L√≥gico' },
                    { name: 'Ricardo P.', subject: 'Inform√°tica' },
                ];
                studyRoomList.innerHTML = mockUsers.map(user => `
                    <div class="bg-white p-3 rounded-lg flex items-center justify-between shadow-sm">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center font-bold text-slate-500 mr-3">${user.name.charAt(0)}</div>
                            <div>
                                <p class="font-semibold">${user.name}</p>
                                <p class="text-sm text-slate-500">${user.subject}</p>
                            </div>
                        </div>
                        <div class="flex items-center text-green-600">
                            <div class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                            <span class="text-sm font-medium">Online</span>
                        </div>
                    </div>
                `).join('');

                // Ranking
                const rankingList = document.getElementById('ranking-list');
                 const mockRanking = [
                    { rank: 'ü•á', name: 'Juliana P.', time: '45h 32m' },
                    { rank: 'ü•à', name: 'Marcos A.', time: '42h 11m' },
                    { rank: 'ü•â', name: 'Ana C.', time: '38h 54m' },
                    { rank: '4', name: 'Voc√™', time: '35h 02m (simulado)' },
                    { rank: '5', name: 'Lucas G.', time: '33h 45m' },
                ];
                rankingList.innerHTML = mockRanking.map(user => `
                    <li class="p-4 flex items-center ${user.name.includes('Voc√™') ? 'bg-blue-50' : ''}">
                        <span class="text-xl font-bold w-10 text-center">${user.rank}</span>
                        <p class="flex-grow font-semibold">${user.name}</p>
                        <p class="text-slate-600 font-medium">${user.time}</p>
                    </li>
                `).join('');
            }

            // --- Event Listeners ---
            addSubjectBtn.addEventListener('click', addSubject);
            newSubjectInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') addSubject();
            });

            subjectsList.addEventListener('click', (e) => {
                const selectEl = e.target.closest('[data-select-id]');
                const practiceBtn = e.target.closest('[data-practice-id]');
                const deleteBtn = e.target.closest('[data-delete-id]');

                if (selectEl) selectSubject(parseInt(selectEl.dataset.selectId));
                if (practiceBtn) startQuiz(parseInt(practiceBtn.dataset.practiceId));
                if (deleteBtn) deleteSubject(parseInt(deleteBtn.dataset.deleteId));
            });
            
            startPauseBtn.addEventListener('click', () => {
                if (appState.timer.isRunning) {
                    pauseTimer();
                } else {
                    startTimer();
                }
            });
            
            stopBtn.addEventListener('click', stopTimer);
            
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    switchView(item.dataset.view);
                });
            });

            // --- Inicializa√ß√£o ---
            function init() {
                loadState();
                renderSubjects();
                renderSimulatedData();
                updateTimerControls();
                renderQuizView();
            }

            init();
        });
    </script>
</body>
</html>
